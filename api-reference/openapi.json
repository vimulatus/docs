{
  "openapi": "3.0.0",
  "paths": {
    "/company": {
      "post": {
        "operationId": "CompanyController_createCompany",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCompanyDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CompanyDto"
                }
              }
            }
          }
        },
        "summary": "Create a company",
        "tags": [
          "Company"
        ]
      },
      "get": {
        "operationId": "CompanyController_getAllCompaniesByUser",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "query",
            "description": "The id of the user for which the companies are to be fetched",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CompanyDto"
                  }
                }
              }
            }
          }
        },
        "summary": "Get all companies by user",
        "tags": [
          "Company"
        ]
      }
    },
    "/company/{id}": {
      "get": {
        "operationId": "CompanyController_getCompany",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The id of the company",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CompanyDto"
                }
              }
            }
          }
        },
        "summary": "Get a company by id",
        "tags": [
          "Company"
        ]
      }
    },
    "/company/default": {
      "get": {
        "operationId": "CompanyController_getDefaultCompany",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "query",
            "description": "The id of the user for which the default company is to be fetched",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CompanyDto"
                }
              }
            }
          }
        },
        "summary": "Get the default company for a user",
        "tags": [
          "Company"
        ]
      }
    },
    "/company/migrate/{companyId}": {
      "patch": {
        "operationId": "CompanyController_migrate",
        "parameters": [
          {
            "name": "companyId",
            "required": true,
            "in": "path",
            "description": "The id of the company to be migrated",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          },
          "204": {
            "description": ""
          }
        },
        "summary": "Migrate a company",
        "tags": [
          "Company"
        ]
      }
    },
    "/groups": {
      "get": {
        "operationId": "GroupController_getGroups",
        "parameters": [
          {
            "name": "X-Company-Id",
            "in": "header",
            "description": "The id of the current active company",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GroupDto"
                  }
                }
              }
            }
          }
        },
        "summary": "Get all groups",
        "tags": [
          "Tenant / Group"
        ]
      },
      "post": {
        "operationId": "GroupController_createGroup",
        "parameters": [
          {
            "name": "X-Company-Id",
            "in": "header",
            "description": "The id of the current active company",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateGroupDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GroupDto"
                }
              }
            }
          }
        },
        "summary": "Create a group",
        "tags": [
          "Tenant / Group"
        ]
      }
    },
    "/roles/{id}": {
      "get": {
        "operationId": "RoleController_findById",
        "parameters": [
          {
            "name": "X-Company-Id",
            "in": "header",
            "description": "The id of the current active company",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Tenant / Role"
        ]
      }
    },
    "/roles": {
      "post": {
        "operationId": "RoleController_create",
        "parameters": [
          {
            "name": "X-Company-Id",
            "in": "header",
            "description": "The id of the current active company",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRoleDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "Tenant / Role"
        ]
      },
      "get": {
        "operationId": "RoleController_findAll",
        "parameters": [
          {
            "name": "X-Company-Id",
            "in": "header",
            "description": "The id of the current active company",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Tenant / Role"
        ]
      }
    },
    "/accounts": {
      "post": {
        "operationId": "AccountController_create",
        "parameters": [
          {
            "name": "X-Company-Id",
            "in": "header",
            "description": "The id of the current active company",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAccountDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "Tenant / Account"
        ]
      },
      "get": {
        "operationId": "AccountController_findAll",
        "parameters": [
          {
            "name": "X-Company-Id",
            "in": "header",
            "description": "The id of the current active company",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Tenant / Account"
        ]
      }
    },
    "/accounts/{id}": {
      "get": {
        "operationId": "AccountController_findById",
        "parameters": [
          {
            "name": "X-Company-Id",
            "in": "header",
            "description": "The id of the current active company",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Tenant / Account"
        ]
      }
    },
    "/inventory/item": {
      "get": {
        "operationId": "ItemController_find",
        "parameters": [
          {
            "name": "X-Company-Id",
            "in": "header",
            "description": "The id of the current active company",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "required": false,
            "in": "query",
            "description": "The name of the item to find",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sku",
            "required": false,
            "in": "query",
            "description": "The SKU of the item to find. If provided, `name` is ignored",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "id",
            "required": false,
            "in": "query",
            "description": "The ID of the item to find. If provided, the other fields are ignored",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        },
        "tags": [
          "Tenant / Item"
        ]
      },
      "post": {
        "operationId": "ItemController_create",
        "parameters": [
          {
            "name": "X-Company-Id",
            "in": "header",
            "description": "The id of the current active company",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateItemDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "Tenant / Item"
        ]
      },
      "delete": {
        "operationId": "ItemController_delete",
        "parameters": [
          {
            "name": "X-Company-Id",
            "in": "header",
            "description": "The id of the current active company",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "required": false,
            "in": "query",
            "description": "The name of the item to find",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sku",
            "required": false,
            "in": "query",
            "description": "The SKU of the item to find. If provided, `name` is ignored",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "id",
            "required": false,
            "in": "query",
            "description": "The ID of the item to find. If provided, the other fields are ignored",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Tenant / Item"
        ]
      }
    },
    "/inventory/item/{id}/groups": {
      "get": {
        "operationId": "ItemController_getGroups",
        "parameters": [
          {
            "name": "X-Company-Id",
            "in": "header",
            "description": "The id of the current active company",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Tenant / Item"
        ]
      }
    }
  },
  "info": {
    "title": "ERP API",
    "description": "API for ERP",
    "version": "1.0",
    "contact": {}
  },
  "tags": [
    {
      "name": "erp",
      "description": ""
    }
  ],
  "servers": [],
  "components": {
    "securitySchemes": {
      "bearer": {
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "type": "http"
      }
    },
    "schemas": {
      "LogoOrIcon": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "logo",
              "icon"
            ],
            "description": "The type of the logo or icon",
            "example": "logo"
          },
          "urlOrName": {
            "type": "string",
            "description": "The url or name of the logo or icon",
            "example": "https://example.com/logo.png"
          }
        },
        "required": [
          "type",
          "urlOrName"
        ]
      },
      "CreateCompanyDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the company",
            "example": "Acme Corp"
          },
          "description": {
            "type": "string",
            "nullable": true,
            "description": "The description of the company",
            "example": "A company that makes widgets"
          },
          "gstin": {
            "type": "string",
            "nullable": true,
            "description": "The GSTIN of the company",
            "example": "29AAACD1234E1Z5"
          },
          "logoOrIcon": {
            "nullable": true,
            "description": "The logo or lucide icon name of the company",
            "example": {
              "type": "logo",
              "urlOrName": "https://example.com/logo.png"
            },
            "allOf": [
              {
                "$ref": "#/components/schemas/LogoOrIcon"
              }
            ]
          },
          "countryCode": {
            "type": "string",
            "description": "The country code of the company",
            "example": "IN",
            "default": "IN"
          },
          "currencyCode": {
            "type": "string",
            "description": "The currency code of the company",
            "example": "INR",
            "default": "INR"
          },
          "createdById": {
            "type": "string",
            "description": "The id of the user who created the company",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          }
        },
        "required": [
          "name",
          "countryCode",
          "currencyCode",
          "createdById"
        ]
      },
      "CompanyDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The id of the company",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "name": {
            "type": "string",
            "description": "The name of the company",
            "example": "Acme Corp"
          },
          "description": {
            "type": "string",
            "nullable": true,
            "description": "The description of the company",
            "example": "A company that makes widgets"
          },
          "gstin": {
            "type": "string",
            "nullable": true,
            "description": "The GSTIN of the company",
            "example": "29AAACD1234E1Z5"
          },
          "logoOrIcon": {
            "nullable": true,
            "allOf": [
              {
                "$ref": "#/components/schemas/LogoOrIcon"
              }
            ]
          },
          "countryCode": {
            "type": "string",
            "description": "The country code of the company",
            "example": "IN",
            "default": "IN"
          },
          "currencyCode": {
            "type": "string",
            "description": "The currency code of the company",
            "example": "INR",
            "default": "INR"
          }
        },
        "required": [
          "id",
          "name",
          "countryCode",
          "currencyCode"
        ]
      },
      "GroupDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "id": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "id"
        ]
      },
      "CreateGroupDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the group",
            "example": "Marketing Team"
          }
        },
        "required": [
          "name"
        ]
      },
      "CreateRoleDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the role",
            "example": "Admin"
          },
          "description": {
            "type": "string",
            "description": "The description of the role",
            "example": "Admin role"
          }
        },
        "required": [
          "name"
        ]
      },
      "CreateAccountDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the account",
            "example": "Jane"
          },
          "groupId": {
            "type": "string",
            "description": "The ID of the group",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "code": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "currencyCode": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "name",
          "groupId"
        ]
      },
      "CreateItemDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "sku": {
            "type": "string"
          },
          "unitId": {
            "type": "string"
          },
          "cost": {
            "type": "number"
          },
          "price": {
            "type": "number"
          },
          "msp": {
            "type": "number"
          },
          "description": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "unitId",
          "cost",
          "price"
        ]
      }
    }
  }
}